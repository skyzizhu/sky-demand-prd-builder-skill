---
name: sky-demand-prd-builder-skill
description: 基于 sky-demand-evaluator 的真需求结果，生成标准化的 PRD 草稿与数据/埋点方案草稿，并标出需要人工补充的关键项，为后续导出 PDF 做结构准备。仅在需求被判定为真需求且实施推荐度>50% 时使用。
---

# 使用说明

本 skill 用于在「真需求已确认」之后，把一条需求从结构化分析结果，推进到「可执行的 PRD 草稿 + 数据/埋点与监控草稿」，并清晰标出哪些部分需要产品/设计/技术/运营人工补充。  

本 skill 不直接负责生成 PDF 文件，但会：

- 输出结构化、分章节的 PRD 文本草稿；  
- 使用清晰的标题与层级组织内容，方便后续交由 `pdf` 能力做排版与导出。  

## 0. 依赖与前置条件

在使用本 skill 前，必须满足：

- 当前需求已经通过 `sky-demand-evaluator` 评估，结论为：  
  - 真需求；且  
  - 实施推荐度评分 > 50%。  
- 已有可用的 `sky-demand-evaluator` 结构化输出，或一份信息等价的整理内容。

如不满足上述条件，应提示用户：先使用 `sky-demand-evaluator` 对该需求进行真伪和优先级评估，通过后再使用本 skill。

本 skill 有两种主要使用模式：**生成模式** 和 **自检模式**。

### 0.1 生成模式（默认）

生成模式用于「从真需求生成 PRD 草稿」。输入必须满足：

- 已通过 `sky-demand-evaluator` 的真需求结论和实施推荐度 > 50%。  

本模式接受两种输入形式：

- 形式 A：直接传入完整的 `sky-demand-evaluator` 输出（推荐）。  
- 形式 B：传入一份等价的结构化信息，至少包含：  
  - 需求结论标签（真需求）；  
  - 实施推荐度评分；  
  - 背后问题与用户目标；  
  - 需求类型标签；  
  - 关键判断依据（价值/频率/范围/可替代性/一致性）；  
  - 用户故事与关键用户路径；  
  - 价值 vs 成本评估；  
  - 初步数据与埋点建议。  

如输入信息明显不全，在生成 PRD 草稿时要增加相应的 TODO 标记。

### 0.2 自检模式（可选）

自检模式用于「对一份已有的 PRD 文档进行结构化检查与补洞」，而不是从零生成。触发方式包括：

- 用户明确说明「这是已经写好的 PRD，请帮忙按 sky-demand-prd-builder-skill 自检」；  
- 或输入主要是一份 PRD 文本，而不是 sky-demand-evaluator 的输出。

在自检模式下，本 skill 应：

- 对照本 skill 的章节结构，检查用户提供的 PRD：  
  - 哪些章节已覆盖（例如：背景与目标、用户与场景、数据与埋点等）；  
  - 哪些章节缺失或内容明显不足。  
- 检查是否包含至少若干：  
  - 清晰的目标和可度量指标；  
  - 用户故事和关键用户路径；  
  - 埋点事件与指标设计；  
  - 验收用例（用例数量和覆盖范围）。  
- 输出一份「自检报告」，而不是重写整个 PRD，报告内容可以包括：  
  - 缺失或薄弱的章节清单；  
  - 建议补充的内容要点（可以用 TODO 形式列出）；  
  - 如发现与前一个 skill（sky-demand-evaluator）结论明显不一致的地方，可以提示需要回到真伪评估阶段复查。

在自检模式下，如用户允许，可以在原有 PRD 的基础上追加一个「改进建议」小节，列出：  

- TODO(产品/设计/技术/数据…): 应补充的关键信息；  
- 建议统一引入的结构（例如增加验收用例章节、增加监控设计章节等）。

## 1. 整理需求摘要与目标

### 1.0 PRD 元信息

在正式展开内容前，先生成一块「元信息」区域，方便 PRD 直接被复制到需求管理系统或协作文档中。建议包含但不限于：

- 需求名称（自动生成一版，允许人工修改）；  
- 需求 ID（由团队系统生成，保留 `TODO(产品)` 占位）；  
- 当前版本号（例如 v0.1 草稿）；  
- Owner（产品负责人）；  
- 参与角色（设计、技术负责人、数据、运营等）；  
- 目标版本 / 预计上线时间；  
- 关联项目 / 关联 OKR（如适用）。  

如缺乏信息，使用统一格式的 TODO 标记，例如：

- `TODO(产品 P0): 填写需求 ID（对应 Jira/飞书多维表的主键）。`  
- `TODO(产品 P1): 填写目标版本号及预计上线时间。`

### 1.1 生成需求一句话摘要

基于输入信息，先生成一条「需求一句话摘要」，要求：

- 覆盖核心对象、场景和目标，不展开具体方案；  
- 不超过 1–2 句。  

示例格式：

- 「为【用户/角色】在【场景】下提供【能力/改进】，以提升【关键目标/指标】。」  

### 1.2 生成背景与目标初稿

综合 `sky-demand-evaluator` 的分析结果：

- 背景：  
  - 简要说明当前产品现状、存在的问题或机会（可引用「背后问题与用户目标」）；  
  - 结合需求类型标签（如体验优化/商业化等）给出 1 段背景描述。  

- 目标：  
  - 将需求目标拆成 1–3 条可验证的目标，参考：  
    - 对用户体验的改善（例如：减少中断、缩短路径、降低错误等）；  
    - 对业务指标的影响（例如：登录成功率、留存、转化率等）。  
  - 如缺乏明确指标，在目标中加入 TODO，例如：  
    - `TODO(业务): 补充本需求期望改善的具体指标及目标值（例如：首登完成率+X%）。`

### 1.3 收集约束条件与依赖

如 `sky-demand-evaluator` 中提及风险、依赖或重要假设，应在本节归纳为：

- 已知约束：如平台限制、合规要求、性能边界等；  
- 关键依赖：如其他团队、上游接口、第三方服务等。  

如相关信息缺失，输出：

- `TODO(产品): 补充该需求的主要依赖模块/团队（如有）。`  
- `TODO(合规/法务): 确认本需求是否涉及隐私、合规或审核风险。`

## 2. 用户与使用场景

### 2.1 用户画像与角色

基于 `sky-demand-evaluator` 的用户角色信息：

- 列出主要目标用户（例如：新手用户、重度使用者、运营人员、渠道伙伴等）；  
- 对每类目标用户给出 1–2 句简要描述，说明其关心点与典型行为。  

如输入中未体现用户角色，输出：

- `TODO(产品): 明确本需求主要服务的用户角色（例如：新用户/老用户/B 端某角色等）。`

### 2.2 使用场景描述

复用并细化 `sky-demand-evaluator` 中的使用场景与 Job story：

- 以 2–3 个关键场景为主，每个场景包含：  
  - 场景名称；  
  - 简短描述；  
  - 对应的 Job story（当我…时，我想要…从而…）。  

### 2.3 关键用户路径

基于已有的关键使用路径，整理出标准化的「主路径」：

- 使用 4–7 个节点描述用户从进入到完成任务的主要步骤；  
- 对每个节点标注：  
  - 所属页面/模块（如已知）；  
  - 该节点的目标或关键动作。  

如存在多个明显不同路径（如新/老用户不同），可区分「主要路径」与「替代路径」。

## 3. 需求范围与分层

### 3.1 功能清单与范围

根据前一个 skill 的价值评估与关键节点，列出本需求下的核心功能点：

- Must（必须）：需求成立的前提能力，不做就无法交付基本价值；  
- Should（重要）：明显提升体验或效果，优先考虑但允许在资源不足时延期；  
- Could（可选）：锦上添花项，可视资源和节奏选择性实现。  

如信息不足以直接划分，可给出建议划分，并在描述中注明基于哪些判断。

### 3.2 MVP 与迭代建议

结合实施推荐度评分和成本评估：

- 给出一个建议的 MVP 范围（只包含 Must + 少量高价值 Should）；  
- 建议后续迭代方向（例如：适配更多场景、增加智能化、增加个性化等）。  

必要时添加：

- `TODO(产品/业务): 和业务方确认本次版本的范围边界与时间要求。`

## 4. 方案设计（概要）

本 skill 不输出高保真原型，但要给出足够让设计/开发理解的文字方案概要。

### 4.1 核心流程说明

围绕「关键用户路径」，补充每个节点的行为与系统响应：

- 输入：用户在该节点可以做什么；  
- 输出：系统如何反馈（页面变化、提示、跳转等）；  
- 边界：此节点有哪些异常、失败情况需要处理（如超时、无数据等）。

如缺乏足够信息覆盖边界，输出：

- `TODO(交互): 补充各节点的异常/失败场景处理方式。`

### 4.2 页面与模块说明（文字版）

根据需求类型和路径，列出涉及的页面/模块：

- 对每个页面/模块，简要说明：  
  - 主要信息元素（有哪些核心信息或组件）；  
  - 主要交互元素（按钮/入口/输入框等）；  
  - 关键文案（可给出初稿，但建议标注待校对）。  

统一在文案部分添加：

- `TODO(文案): 核对并优化所有用户可见文案，确保符合品牌/语气规范。`

### 4.3 非功能性要求（如有）

如从前一 skill 中观察到性能、稳定性或安全相关的隐患，可以在此提出初步要求：

- 性能：响应时间、并发容量等粗略要求（如有）；  
- 稳定性：关键路径允许的失败率或重试策略（如有）；  
- 安全/合规：需要特别注意的数据或操作。  

如无法确定，输出：

- `TODO(技术): 根据当前系统架构补充性能/稳定性方面的约束与要求。`

## 5. 数据、埋点与监控设计

本章节是本 skill 的重点之一，用于帮助你从「想做」走向「可验证」。

### 5.1 指标体系（核心指标与辅助指标）

在参考 `sky-demand-evaluator` 中的监控建议基础上，输出：

- 核心指标（1–3 个）：  
  - 指标名称（例如：新用户首登完成率、某功能使用率等）；  
  - 指标说明（它衡量什么）；  
  - 指标类型：转化 / 频次 / 留存 / 质量 / 收入 等；  
  - 初步计算口径草稿（例如：分子/分母定义）。  

- 辅助指标（可选）：  
  - 帮助解释核心指标变化的指标，如曝光次数、点击率、错误率等。  

如指标定义不清晰，输出：

- `TODO(数据): 和数据团队确认各指标的精确定义与计算口径。`

### 5.2 埋点事件设计

按照「关键用户路径」节点，设计一张简化的埋点事件表。对每个关键节点，尽量给出：

- 事件名（建议有一定规范，如：`page_view_xxx` / `click_xxx` / `submit_xxx`）；  
- 触发条件（在哪个页面 / 哪个操作触发）；  
- 关键属性（例如：用户类型、入口来源、业务标识、错误码等）；  
- 用途（该事件用来回答什么问题，支撑哪个指标或假设）。  

如当前埋点体系已有类似事件，应在用途说明中提示「优先复用既有事件」。

如不确定现有埋点情况，输出：

- `TODO(数据/研发): 对照现有埋点文档，标记哪些事件可以复用，哪些需要新增。`

### 5.3 报表与仪表盘建议

给出一个高层级的报表/仪表盘草图，说明：

- 需支持的核心维度（时间、渠道、用户类型、版本号等）；  
- 主要图表形式（趋势图、漏斗、分布图等）；  
- 常用的筛选条件与对比方式（如对比上线前后、不同渠道等）。  

可加：

- `TODO(数据): 确认这些报表是否已有，若已有请记录报表链接；若没有，评估搭建成本与优先级。`

### 5.4 监控与告警（如适用）

如果该需求涉及关键路径（例如登录、支付、核心转化），需要考虑：

- 需要配置哪些指标的监控和告警；  
- 大致的告警阈值（如暂不确定，可留 TODO）。  

例如：

- `TODO(监控): 为核心转化指标配置告警，当转化率在日/小时维度上较基线下降超过 X% 时触发告警。`

## 6. 验收标准与用例（Use Cases）

为方便测试和验收，建议在 PRD 中增加一节「验收标准与用例」：

- 为 3–5 个关键场景各输出至少 1 条验收用例，结构包括：  
  - 前置条件（用户状态、环境、数据条件等）；  
  - 操作步骤；  
  - 预期结果（包含对页面表现、数据写入、埋点触发的期望）。  
- 对涉及异常/边界场景（如网络异常、广告加载失败等）也给出至少 1–2 条用例草稿。  

示例结构（文字即可，不必写成正式测试用例表格）：

- 用例 1：正常关闭开屏广告  
  - 前置条件：新用户首次冷启动 APP，开屏广告配置正常。  
  - 步骤：打开 APP → 等待开屏广告出现 → 点击右上角「关闭」。  
  - 预期结果：广告立即消失，进入首页；对应埋点事件 `ad_splash_close_click` 被记录。  

如信息不足以写出完整用例，可以添加：

- `TODO(QA/产品): 完善关键场景的验收用例列表，并与测试团队确认可执行性。`

## 7. 风险、依赖与 TODO 汇总

### 7.1 风险与应对

整合前文提到的风险点，例如：

- 体验上的风险（用户可能不理解、可能产生反感等）；  
- 技术或性能风险；  
- 合规与政策风险；  
- 项目进度与资源风险。  

对每个风险给出简要的应对思路或缓解措施，如目前无法评估，则留 TODO。

### 7.2 依赖与协作

列出本需求落地过程中涉及的主要依赖：

- 依赖的系统、团队、第三方服务等；  
- 需要对齐的关键决策（如定价、策略规则等）。  

### 7.3 TODO 汇总清单

把全文中出现的所有 `TODO(...)` 条目集中汇总成一个列表，按角色分类（产品/设计/技术/数据/运营等），并尽量带上优先级（例如 P0/P1/P2），方便使用者快速扫一遍知道哪里需要优先补充：

- TODO(产品 P0): ……  
- TODO(设计 P1): ……  
- TODO(技术 P0): ……  
- TODO(数据 P1): ……  
- TODO(运营 P2): ……  
- TODO(合规/法务 P0): ……  

## 8. 输出格式、MD 文件与 PDF 衔接

本 skill 的最终输出应为一份「结构化的 PRD 文本草稿」，具有清晰的标题层级（例如类似 Markdown 的 `#`、`##`、`###`）。要求：

- 标题与章节结构稳定、易于识别，方便后续程序或工具进行分章节排版；  
- 所有 TODO 保持统一格式（例如：`TODO(角色 Px): 内容`），方便后续搜索和人工处理；  
- 在具备本地文件系统写入能力的环境中，应将上述 PRD 文本**自动写入一个 `.md` 文件**，并在回复中明确告知文件路径。  

关于自动输出 MD 文件，推荐约定如下（可根据实际项目调整）：

- 默认输出目录：当前工作目录下的 `output/prd/` 子目录；  
- 文件命名：基于需求名称生成一个简短的英文/拼音 slug，例如 `ad-close-button-prd.md`、`seckill-feature-prd.md`；  
- 在生成回答时，在结尾附上一句类似说明：  
  - 「本次 PRD 草稿已保存为 Markdown 文件：`output/prd/xxx-prd.md`。」  
- 若因环境限制无法写入文件，应在输出中明确说明，只返回文本不创建文件。

本 skill 自身不实现 PDF 排版逻辑，但在说明中应明确可以将该 Markdown 文本传递给 `pdf` skill 或其他 PDF 工具进行排版：

- 当用户明确表示需要 PDF 时，可以在输出中追加简要建议，例如：  
  - 「如需导出 PDF，请将上述 PRD 文本或 `output/prd/xxx-prd.md` 交由 `$pdf` 能力或相应工具，按照团队统一模板进行排版与导出。」

此外，如需求涉及多端或多环境（例如 iOS/Android/Web/管理后台等），在输出中应尽量：

- 在方案部分按端拆分小节（例如「4.2.1 iOS」「4.2.2 Android」），避免不同端的差异混杂在同一段落；  
- 在数据与埋点部分标注事件是否跨端复用，或需要按端区分。

## 9. 与 sky-demand-evaluator 的串联示例（简要）

为了让使用者更容易理解两个 skill 的配合方式，可以参考以下串联流程：

1. 用户或同事提出一条需求/痛点，例如：「APP 首页应该少一些初始化弹框」。  
2. 使用 `sky-demand-evaluator` 对该需求进行真伪和优先级评估，得到结构化输出：  
   - 需求结论标签：真需求；  
   - 实施推荐度评分：例如 70%；  
   - 背后问题与用户目标、用户故事、关键路径、数据与埋点建议等。  
3. 当结论为真需求且评分>50% 时，将上述结构化结果作为本 skill 的输入：  
   - 形式 A：直接把前一个 skill 的输出交给本 skill 继续处理；  
   - 形式 B：按本 skill 要求的字段手动整理后输入。  
4. 本 skill 基于这些信息，生成一份包含：  
   - PRD 元信息；  
   - 背景与目标；  
   - 用户与场景；  
   - 需求范围与方案设计概要；  
   - 数据/埋点/监控设计；  
   - 验收标准与用例；  
   - 风险、依赖与 TODO 汇总；  
   的 PRD 文本草稿。  
5. 如有需要，再将该 PRD 文本交由 `pdf` skill 或其他工具生成最终 PDF 文档。
